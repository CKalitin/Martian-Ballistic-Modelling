import sim
import numpy as np

# Pheonix Entry:
pheonix = [
    # Velocity (m/s)
    np.array([
    5873, 5884, 5895, 5895, 5884, 5861, 5828, 5773, 5706, 5573, 5452, 5330,
    5075, 4787, 4488, 4199, 3934, 3335, 2659, 2183, 1850, 1496, 1263, 1030,
    765, 654, 554, 476, 410, 355, 299, 199, 122, 78, 66, 55, 0
    ]),
    # Altitude (m)
    np.array([
    123545, 104182, 93273, 73909, 70091, 64909, 60273, 56182, 52909, 49091,
    46909, 45000, 42273, 39818, 38182, 36545, 35182, 32455, 30000, 28091,
    26727, 25091, 23727, 22091, 19636, 18273, 16636, 15273, 13636, 12000,
    9818, 9273, 8727, 7636, 5727, 1364, 0
    ]),
    "Pheonix"
]

# MER Entry:
mer = [
    # Velocity (m/s)
    np.array([
    5548, 5548, 5548, 5548, 5548, 5548, 5548, 5537, 5537, 5537, 5537, 5526, 5503, 5481, 5459, 5415, 5370, 5337, 5315, 5315, 5237, 5237, 5160, 5160, 5082, 5082, 5004, 5004, 4926, 4926, 4849, 4849, 4760, 4760, 4671, 4671, 4583, 4583, 4505, 4505, 4416, 4416, 4327, 4327, 4239, 4239, 4150, 4150, 4061, 4061, 3961, 3961, 3872, 3872, 3784, 3784, 3695, 3695, 3595, 3595, 3506, 3506, 3417, 3417, 3318, 3318, 3229, 3229, 2752, 2752, 2663, 2663, 2574, 2574, 2474, 2474, 2386, 2386, 2297, 2297, 2208, 2208, 2108, 2108, 2019, 2019, 1931, 1931, 1842, 1842, 1753, 1753, 1664, 1664, 1564, 1564, 1487, 1487, 1398, 1398, 1309, 1309, 1221, 1221, 1132, 1132, 1043, 1043, 965, 965, 877, 877, 799, 799, 721, 721, 644, 644, 566, 566, 499, 499, 422, 422, 333, 333, 100, 67, 44
    ]),
    # Altitude (m)
    np.array([
    89071, 91530, 108197, 79508, 79508, 75410, 72951, 123770, 110383, 70492, 68033, 65574, 63115, 60929, 58743, 56557, 54372, 52732, 52459, 52459, 50273, 50273, 48634, 48634, 47268, 47268, 45902, 45902, 44809, 44809, 43989, 43989, 42896, 42896, 42077, 42077, 41257, 41257, 40710, 40710, 39891, 39891, 39071, 39071, 38525, 38525, 37705, 37705, 37158, 37158, 36612, 36612, 36066, 36066, 35519, 35519, 35246, 35246, 34699, 34699, 34153, 34153, 33607, 33607, 33060, 33060, 32787, 32787, 30055, 30055, 29508, 29508, 29235, 29235, 28962, 28962, 28415, 28415, 28142, 28142, 27596, 27596, 27322, 27322, 26776, 26776, 26230, 26230, 25683, 25683, 25137, 25137, 24863, 24863, 24317, 24317, 23770, 23770, 22951, 22951, 22404, 22404, 21858, 21858, 21038, 21038, 20219, 20219, 19399, 19399, 18579, 18579, 17486, 17486, 16667, 16667, 15301, 15301, 13934, 13934, 12295, 12295, 10656, 10656, 10109, 10109, 7923, 4372, 546
    ]),
    "MER"
]

# Curiosity Entry:
curiosity = [
    # Velocity (m/s)
    np.array([
    466, 521, 621, 721, 832, 943, 1021, 1098, 1176, 1243, 1320, 1398, 1476, 1553, 1631, 1709, 1786, 1864, 1942, 2008, 2086, 2164, 2241, 2308, 2386, 2463, 2530, 2607, 2685, 2752, 2829, 2907, 2974, 3051, 3129, 3196, 3273, 3340, 3417, 3484, 3562, 3628, 3706, 3773, 3839, 3917, 3983, 4061, 4128, 4194, 4261, 4338, 4405, 4472, 4538, 4605, 4682, 4738, 4816, 4871, 4949, 5126, 5193, 5259, 5326, 5381, 5448, 5503, 5548, 5581, 5614, 5637, 5659, 5670, 5681, 5703, 5692, 5681, 5670, 5659, 5648, 5648, 5648, 5648, 5659, 5670, 5681, 5681, 5614, 5603, 5603, 5603, 5592, 5592, 5592, 5592, 5592, 5592, 5581, 5581, 5581, 5592, 5592, 5581, 5592, 5592, 5592, 5592, 5603, 5603, 5603, 5603, 5614, 5614
    ]),
    # Altitude (m)
    np.array([
    12022, 13388, 14208, 14754, 14754, 14754, 14208, 14208, 14208, 13934, 13934, 13934, 13934, 13934, 13934, 13934, 13934, 14208, 14208, 14208, 14208, 14481, 14481, 14754, 14754, 15027, 15301, 15574, 15847, 15847, 15847, 16120, 16393, 16667, 16940, 16940, 17486, 17760, 18033, 18306, 18579, 18852, 19399, 19399, 19945, 20492, 20765, 21038, 21585, 21858, 22404, 22951, 23224, 23770, 24317, 24863, 25410, 25956, 26503, 27322, 27596, 30055, 31148, 31967, 33333, 34426, 35792, 37158, 38798, 40437, 42077, 43989, 45902, 47814, 49454, 51366, 53825, 55738, 57377, 59290, 60929, 62842, 64754, 66667, 68306, 70219, 71858, 73770, 77049, 78689, 80601, 82514, 84426, 86066, 87978, 89891, 91803, 93716, 95628, 97541, 99180, 101093, 103005, 104645, 106557, 108470, 110383, 112295, 113934, 115847, 117760, 119672, 121585, 123224
    ]),
    "Curiosity"
]

# Curiosity
sim_data = sim.simulate(
    time_step=0.01,
    time_max=1000,
    mass=3300,
    area=15.9,
    entry_altitude=125000,
    entry_flight_path_angle=-14,
    entry_velocity=5800,
    verbose=False,
)
sim.plot(sim_data, filename="backtest/Curiosity-Entry.png", comparisons=[pheonix, mer, curiosity], show=True)